---
import Layout from "@/layouts/Layout.astro";
import { Editor } from "@/components/editor";
import type { PartialBlock } from "@blocknote/core";

const params = Astro.params;

// cast params to Params
const articleId = params.articleId as string;

const pb = Astro.locals.pb;

const article = await pb.collection("posts").getOne(articleId);

const initialContent = article.content as PartialBlock[];
---

<Layout title="ArticleId">
  <article>
    <Editor client:only="react" initialContent={initialContent} articleId={article.id}/>
  </article>
</Layout>
